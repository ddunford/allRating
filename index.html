<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
 <head>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
  <title>allRating jQuery Plugin</title>
  <link rel="stylesheet" type="text/css" media="screen" href="css/reset.css">
  <link rel="stylesheet" type="text/css" media="screen" href="css/layout.css">
  <link rel="stylesheet" type="text/css" media="screen" href="css/allRating.css">
  <link rel="stylesheet" href="http://code.jquery.com/mobile/1.0a4.1/jquery.mobile-1.0a4.1.min.css" />
  <script src="http://code.jquery.com/jquery-1.5.2.min.js"></script>
  <script type="text/javascript" src="js/jquery.mobile-1.0a4.1.js"></script>
  <script type="text/javascript" src="js/jquery.allRating.js"></script>
  <script type="text/javascript" >
  $(document).ready(function() {
/** multiple inputs with multiple forms submitting */

   $('.multiple').allRating({
       showHover: false,
       onClickEvent: function(input) {

            var form = $(input).closest("form");

            $.ajax({
                type: "POST",
                url: form.attr('action'),
                data: input.attr('name')+'='+input.val(),
                success: function(){
                    $('#message').fadeIn();
                    setTimeout("$('#message').fadeOut()", 500);
                }
            });
       }
   });

  });
  </script>
 </head>
 <body>
 <script type="text/javascript"><!--
 google_ad_client = "ca-pub-2915392395539474";
 /* allrating */
 google_ad_slot = "0412296596";
 google_ad_width = 728;
 google_ad_height = 90;
 //-->
 </script>
 <script type="text/javascript"
 src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
 </script>
  <div data-role="page" data-theme="b" id="jqm-home">
  <div id="jqm-homeheader"> 
  <h1 style="text-align:center">allRating Mobile Example</h1>
  </div>
  <div data-role="content">
  <ul data-role="listview" data-inset="true" data-theme="c" data-dividertheme="b"> 
   <li data-role="list-divider">Rating with multiple inputs</li>
   <li>View Code
   <ol>
    <li><code><pre>
   $('.multiple').allRating({
       onClickEvent: function(input) {

            var form = $(input).closest("form");

            $.ajax({
                type: "POST",
                url: form.attr('action'),
                data: input.attr('name')+'='+input.val(), //This could also be form.serialize() if each rating has a separate form?
                success: function(){
                    $('#message').fadeIn();
                }
            });
       }
   });
    </pre></code></ol>
   </ol>
  </li>
  </ul>
  <ul data-role="listview" data-inset="true" data-theme="c" data-dividertheme="b"> 
  <li data-role="list-divider">Rating 1</li> 
  <li>
  <form method="post" action="submitRating.php">
   <select name="rating4" class="multiple" data-role="none">
    <option value="0">No Rating</option>
    <option value="1">Below Average</option>
    <option value="2">Average</option>
    <option value="3">Above Average</option>
    <option value="4" selected="selected">Awesome</option>
    <option value="5">Epic</option>
   </select>
   </form>
  </li>
  </ul>
  <ul data-role="listview" data-inset="true" data-theme="c" data-dividertheme="b">
  <li data-role="list-divider">Rating 2</li>
  <li>
  <form method="post" action="submitRating.php">
   <select name="rating2" class="multiple" data-role="none">
    <option value="0">No Rating</option>
    <option value="1">Below Average</option>
    <option value="2">Average</option>
    <option value="3">Above Average</option>
    <option value="4" selected="selected">Awesome</option>
    <option value="5">Epic</option>
   </select>
   </form>
  </li>
  </ul>
  <ul data-role="listview" data-inset="true" data-theme="c" data-dividertheme="b">
  <li data-role="list-divider">Rating 3</li>
  <li>
  <form method="post" action="submitRating.php">
   <select name="rating3" class="multiple" data-role="none">
    <option value="0">No Rating</option>
    <option value="1">Below Average</option>
    <option value="2">Average</option>
    <option value="3">Above Average</option>
    <option value="4" selected="selected">Awesome</option>
    <option value="5">Epic</option>
   </select>
   </form>
  </li>
  </ul>
 
  <div id="message"><h2>Rating Submitted</h2></div><br/>
  <a href="https://github.com/dunfy/allRating/tarball/master" class="download">Download</a>
  <p class="contact"><a href="mailto:allrating@dunfy.me.uk">Contact Me</a></p>
  </div>
 </body>
</html>
